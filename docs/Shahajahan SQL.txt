14-02-2024 Shahajahan
//leave module
RENAME TABLE `nilg_erp`.`employee_leave` TO `nilg_erp`.`leave_employee`;
ALTER TABLE `leave_employee` CHANGE `created_date` `created_date` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP;
ALTER TABLE `leave_employee` ADD `dept_id` INT NOT NULL AFTER `user_id`, ADD `desig_id` INT NOT NULL AFTER `dept_id`, ADD INDEX (`dept_id`), ADD INDEX (`desig_id`);

ALTER TABLE `leave_type` CHANGE `status` `status` TINYINT(1) NOT NULL DEFAULT '1' COMMENT '1=active, 2=inactive';
ALTER TABLE `leave_type` ADD `max_apply_leave` TINYINT NOT NULL AFTER `yearly_total_leave`;
UPDATE `leave_type` SET `yearly_total_leave` = '0';

CREATE TABLE `leave_dasignation_manage` ( `id` INT NOT NULL AUTO_INCREMENT , `dept_id` INT NOT NULL , `desig_id` INT NOT NULL , `groups_id` INT NOT NULL , `status` TINYINT(1) NOT NULL COMMENT '1=active, 2=inactive' , PRIMARY KEY (`id`), INDEX (`dept_id`), INDEX (`desig_id`), INDEX (`groups_id`)) ENGINE = InnoDB
ALTER TABLE `leave_dasignation_manage` CHANGE `status` `status` TINYINT(1) NOT NULL DEFAULT '1' COMMENT '1=active, 2=inactive'
//end leave module



ALTER TABLE `groups` ADD `status` TINYINT(1) NOT NULL DEFAULT '1' COMMENT '1=active, 2=inactive' AFTER `description`, ADD `type` TINYINT(1) NOT NULL COMMENT '1=super admin,2=training, 3=evaluation,4=store,5=leave, 6=budget' AFTER `status`;
ALTER TABLE `groups` ADD `title` VARCHAR(128) NOT NULL AFTER `name`;
ALTER TABLE `groups` CHANGE `description` `description` VARCHAR(256) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;
UPDATE `groups` SET `title`= `description`;


ALTER TABLE `department` ADD `name_en` VARCHAR(64) NOT NULL AFTER `id`;
UPDATE `department` SET `name_en`=`dept_name`;
UPDATE `department` SET `name_en` = 'administration' WHERE `department`.`id` = 1;
UPDATE `department` SET `name_en` = 'training' WHERE `department`.`id` = 2;
UPDATE `department` SET `name_en` = 'evaluation' WHERE `department`.`id` = 3;
UPDATE `department` SET `name_en` = 'publication' WHERE `department`.`id` = 4;
UPDATE `department` SET `name_en` = 'research' WHERE `department`.`id` = 5;
UPDATE `department` SET `name_en` = 'planning' WHERE `department`.`id` = 6;
UPDATE `department` SET `name_en` = 'accounts' WHERE `department`.`id` = 7;
UPDATE `department` SET `name_en` = 'audit' WHERE `department`.`id` = 8;


22-02-2024
ALTER TABLE `training` ADD `budget_field_id` INT NULL DEFAULT NULL COMMENT 'budget_field table id' AFTER `course_id`, ADD INDEX (`budget_field_id`);
ALTER TABLE `training` ADD INDEX(`course_id`);
ALTER TABLE `training` ADD INDEX(`office_id`);
ALTER TABLE `training_participant` ADD `pay_type` TINYINT(1) NOT NULL DEFAULT '1' COMMENT '1=not pay, 2=pay, 3=partial pay' AFTER `is_apply`;

ALTER TABLE `training` ADD `budget_code` VARCHAR(12) NULL DEFAULT NULL AFTER `batch_no`;

